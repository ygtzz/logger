{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6657bb663e33d1995823","webpack:///./src/index.js","webpack:///./~/@fdaciuk/ajax/dist/ajax.min.js"],"names":["CONSOLE_METHOD","logger","errors","timer","url","init","opts","delay","bind","add","err","push","startTimer","self","setTimeout","length","clearTimeout","send","_rejectionHandler","e","overrideConsole","origConsole","_origConsole","winConsole","window","console","forEach","name","origin","arguments","restoreConsole","catchGlobalErr","_origOnerror","onerror","errMsg","lineNum","column","errObj","addEventListener","ignoreGlobalErr","removeEventListener","destroy"],"mappings":"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","file":"logger.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6657bb663e33d1995823","import ajax from '@fdaciuk/ajax';\n\nconst CONSOLE_METHOD = ['log', 'error', 'info', 'warn', 'dir', 'time', 'timeEnd', 'clear', 'table', 'assert', 'count', 'debug'];\n\nlet logger = {\n    errors:[],\n    timer:null,\n    url:'',\n    init:function(opts){\n        this.url = opts.url;\n        this.delay = opts.delay || 30000;\n    },\n    bind:function(){\n\n    },\n    add: function(err){\n        this.errors.push(err);\n        this.startTimer();\n    },\n    startTimer:function(){\n        var self = this;\n        if(!self.timer){\n            //30s发送所有错误\n            self.timer = setTimeout(function(){\n                if(self.errors.length > 0){\n                    clearTimeout(self.timer);\n                    self.timer = null;                    \n                    self.send();\n                    self.errors.length = 0;\n                }\n            },self.delay);\n        }\n    },\n    send:function(){\n        \n    },\n    _rejectionHandler:function(e){\n        this.add(e);\n    },\n    overrideConsole:function()\n    {\n        var self = this,\n            errors = this.errors,\n            origConsole = this._origConsole = {},\n            winConsole = window.console;\n\n        CONSOLE_METHOD.forEach(function(name)\n        {\n            var origin = origConsole[name] = function(){};\n            if (winConsole[name]){\n                origin = origConsole[name] = winConsole[name].bind(winConsole);\n            }\n            winConsole[name] = function(){\n                self.add(arguments);\n                origin(arguments);\n            }\n        });\n\n        return this;\n    },\n    restoreConsole:function()\n    {\n        var self = this;\n        \n        if (!this._origConsole){\n            return this;\n        }\n\n        CONSOLE_METHOD.forEach(function(name){\n            window.console[name] = self._origConsole[name];\n        });\n\n        delete this._origConsole;\n\n        return this;\n    },\n    catchGlobalErr:function()\n    {\n        var self = this;\n        self._origOnerror = window.onerror;\n        //window的error错误\n        window.onerror = function(errMsg, url, lineNum, column, errObj){\n            self.add(errObj ? errObj : errMsg);\n        }\n        //promise的未捕获错误\n        window.addEventListener('unhandledrejection', this._rejectionHandler);\n\n        return this;\n    },\n    ignoreGlobalErr:function()\n    {\n        if (this._origOnerror)\n        {\n            window.onerror = this._origOnerror;\n            delete this._origOnerror;\n        }\n        window.removeEventListener('unhandledrejection', this._rejectionHandler);\n\n        return this;\n    },\n    destroy:function(){\n        this.ignoreGlobalErr();\n        this.restoreConsole();\n    }\n}\n\nexport {logger}\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**!\n * ajax - v2.3.0\n * Ajax module in Vanilla JS\n * https://github.com/fdaciuk/ajax\n\n * Sun Jul 23 2017 10:55:09 GMT-0300 (BRT)\n * MIT (c) Fernando Daciuk\n*/\n!function(e,t){\"use strict\";\"function\"==typeof define&&define.amd?define(\"ajax\",t):\"object\"==typeof exports?exports=module.exports=t():e.ajax=t()}(this,function(){\"use strict\";function e(e){var r=[\"get\",\"post\",\"put\",\"delete\"];return e=e||{},e.baseUrl=e.baseUrl||\"\",e.method&&e.url?n(e.method,e.baseUrl+e.url,t(e.data),e):r.reduce(function(r,o){return r[o]=function(r,u){return n(o,e.baseUrl+r,t(u),e)},r},{})}function t(e){return e||null}function n(e,t,n,u){var c=[\"then\",\"catch\",\"always\"],i=c.reduce(function(e,t){return e[t]=function(n){return e[t]=n,e},e},{}),f=new XMLHttpRequest,d=r(t,n,e);return f.open(e,d,!0),f.withCredentials=u.hasOwnProperty(\"withCredentials\"),o(f,u.headers),f.addEventListener(\"readystatechange\",a(i,f),!1),f.send(s(n)),i.abort=function(){return f.abort()},i}function r(e,t,n){if(\"get\"!==n.toLowerCase()||!t)return e;var r=s(t),o=e.indexOf(\"?\")>-1?\"&\":\"?\";return e+o+r}function o(e,t){t=t||{},u(t)||(t[\"Content-Type\"]=\"application/x-www-form-urlencoded\"),Object.keys(t).forEach(function(n){t[n]&&e.setRequestHeader(n,t[n])})}function u(e){return Object.keys(e).some(function(e){return\"content-type\"===e.toLowerCase()})}function a(e,t){return function n(){t.readyState===t.DONE&&(t.removeEventListener(\"readystatechange\",n,!1),e.always.apply(e,c(t)),t.status>=200&&t.status<300?e.then.apply(e,c(t)):e[\"catch\"].apply(e,c(t)))}}function c(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]}function s(e){return i(e)?f(e):e}function i(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function f(e){return Object.keys(e).reduce(function(t,n){var r=t?t+\"&\":\"\";return r+d(n)+\"=\"+d(e[n])},\"\")}function d(e){return encodeURIComponent(e)}return e});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@fdaciuk/ajax/dist/ajax.min.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}